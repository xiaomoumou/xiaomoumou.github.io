(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{842:function(s,t,a){"use strict";a.r(t);var e=a(39),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"第二部分"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第二部分"}},[s._v("#")]),s._v(" 第二部分")]),s._v(" "),a("ul",[a("li",[a("ol",[a("li",[s._v("开发环境(mode=development),追求强大的开发功能和效率，配置各种方便开\n发的功能;")])])]),s._v(" "),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[s._v("生产环境(mode=production),追求更小更轻量的bundle(即打包产物);")])])])]),s._v(" "),a("h3",{attrs:{id:"第一章-提高开发效率与完善团队开发规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一章-提高开发效率与完善团队开发规范"}},[s._v("#")]),s._v(" 第一章：提高开发效率与完善团队开发规范")]),s._v(" "),a("h4",{attrs:{id:"_2-1-1-source-map"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-source-map"}},[s._v("#")]),s._v(" 2.1.1 source-map")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("我们通过webpack, 将我们的源码打包成了 bundle.js 。")]),s._v(" "),a("p",[s._v("试想：实际上客户端(浏览器)读取的是打包后的 bundle.js ,那么当浏览器执行代码报错的时候，报错的信息自然也是bundle的内容。")]),s._v(" "),a("p",[s._v("我们如何将报错信息(bundle错误的语句及其所在行列)映射到源码上？")]),s._v(" "),a("p",[s._v("是的，souce-map。")])]),s._v(" "),a("p",[s._v("配置：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 开启 source map")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 开发中推荐使用 'source-map'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 生产环境一般不开启 sourcemap")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("devtool")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'source-map'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("webpack——devtool一共提供了7种SourceMap模式")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[s._v("模式")]),s._v(" "),a("th",{staticStyle:{"text-align":"left"}},[s._v("解释")])])]),s._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[s._v("eval")])]),s._v(" "),a("td",{staticStyle:{"text-align":"left"}},[s._v("每个module会封装到 eval 里包裹起来执行，并且会在末尾追加注释 //@ sourceURL.")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[s._v("source-map")])]),s._v(" "),a("td",{staticStyle:{"text-align":"left"}},[s._v("生成一个SourceMap文件.bundle的最后一行总是会多出一个注释，指向打包出的sourcemap文件")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[s._v("hidden-source-map")])]),s._v(" "),a("td",{staticStyle:{"text-align":"left"}},[s._v("和 source-map 一样，但不会在 bundle 末尾追加注释.")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[s._v("inline-source-mapp")])]),s._v(" "),a("td",{staticStyle:{"text-align":"left"}},[s._v("生成一个 DataUrl 形式的 SourceMap 文件")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[s._v("eval-source-map")])]),s._v(" "),a("td",{staticStyle:{"text-align":"left"}},[s._v("每个module会通过eval()来执行，并且生成一个DataUrl形式的SourceMap.")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[s._v("cheap-source-map")])]),s._v(" "),a("td",{staticStyle:{"text-align":"left"}},[s._v("生成一个没有列信息（column-mappings）的SourceMaps文件，不包含loader的 sourcemap（譬如 babel 的sourcemap）")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("code",[s._v("cheap-module-source-map")])]),s._v(" "),a("td",{staticStyle:{"text-align":"left"}},[s._v("生成一个没有列信息（column-mappings）的SourceMaps文件，同时 loader 的 sourcemap 也被简化为只包含对应行的。")])])])]),s._v(" "),a("h4",{attrs:{id:"_2-1-2-devserver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-devserver"}},[s._v("#")]),s._v(" 2.1.2 devServer")]),s._v(" "),a("p",[s._v("开发环境下，我们往往需要启动一个web服务，方便我们模拟一个用户从浏览器中访问我们的web服务")]),s._v(" "),a("p",[s._v("安装"),a("code",[s._v("webpack-dev-server")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -D webpack-dev-server\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("devServer.proxy基于强大的中间件 http-proxy-middleware 实现的")]),s._v(" "),a("p",[s._v("基础使用：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" path "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//...")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("devServer")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// static: {")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  directory: path.join(__dirname, 'dist'),")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// }, // 默认是把/dist目录当作web服务的根目录")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("compress")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//可选择开启gzips压缩功能，对应静态资源请求的响应头里的Content-Encoding: gzip")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 端口号")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("配置脚本")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//...")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"dev"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack serve --mode development"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("注意！如果您需要指定配置文件的路径，请在命令的后面添加 --config [path], 比如:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("webpack serve --mode development --config webpack.config.js\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果需要制定配置文件的路径，可以写成：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("webpack serve --mode development --config webpack.config.js\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("这时，当我们yarn dev(或者npm run dev)时，就可以在日志里看到————它启动了一个http服务。 (webpack-dev-server的最底层实现是源自于node的http模块。)")]),s._v(" "),a("h5",{attrs:{id:"开启代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开启代理"}},[s._v("#")]),s._v(" 开启代理")]),s._v(" "),a("p",[s._v("一些devServer的配置")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// webpack.config.js文件")]),s._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("devServer")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./dist'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("compress")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("                             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//以gzip的方式传送")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("                                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置端口")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("headers")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'X-Access-Token'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'abc123'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("               "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在headers添加信息")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("proxy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v("'/api'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://localhost:9000'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 代理请求")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// https: true,                             // 使用https的方式访问，需要证书")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("http2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("                                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用https的方式访问")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("historyApiFallback")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("                   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 处理未知url")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("host")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'0.0.0.0'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("                            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 可以通过局域网ip来访问你")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("ul",[a("li",[s._v("historyApiFallback的作用")])]),s._v(" "),a("p",[s._v("注意：如果我们的应用是个SPA(单页面应用)，当路由到/some时(可以直接在地址栏里输入)，会发现此时刷新页面后，控制台会报错。")]),s._v(" "),a("p",[s._v("浏览器把这个路由当作了静态资源地址去请求，然而我们并没有打包出/some这样的资源，所以这个访问无疑是404的。")]),s._v(" "),a("h4",{attrs:{id:"_2-1-3-模块热替换与热加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-模块热替换与热加载"}},[s._v("#")]),s._v(" 2.1.3 模块热替换与热加载")]),s._v(" "),a("p",[s._v("模块热替换(HMR - hot module replacement)功能会在应用程序运行过程中，替换、添加或删除 模块，而无需重新加载整个页面")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("devServer")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("hot")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("配置devServer.hot为true，可以设置为模块热替换，")]),s._v(" "),a("p",[s._v("css的热替换部分，由css-loader处理好了。大致工作：这是因为style-loader的实现使用了module.hot.accept，在CSS依赖模块更新之后，会对 style 标签打补丁。从而实现了这个功能")]),s._v(" "),a("p",[s._v("js部分的热替换？")]),s._v(" "),a("p",[s._v("可以通过以下方式工作，不知道有没有loader进行自动处理？")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("accept")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./input.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("如果想要关闭热替换，怎么处理？")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("devServer")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("liveReload")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//默认为true，即开启热更新功能。")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"_2-1-4-eslint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-eslint"}},[s._v("#")]),s._v(" 2.1.4 eslint")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" eslint -D\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成对应的格式化文件，比如.eslintrc文件(或者.eslintrc.json, .js等)")]),s._v("\nnpx eslint --init\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("不想使用插件，又想实时提示报错，那么我们可以结合 webpack 的打包编译功能来实现。")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//... ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 模块部分")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("test")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.(js|jsx)$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("exclude")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("node-modules")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("use")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babel-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'eslint-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" \n  \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 服务器部分，实时地看到代码里的不规范报错")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("devServer")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("liveReload")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//默认为true，即开启热更新功能。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h4",{attrs:{id:"_2-1-5-git-hooks-与-husky"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-5-git-hooks-与-husky"}},[s._v("#")]),s._v(" 2.1.5 git-hooks 与 husky")]),s._v(" "),a("p",[s._v("为了保证团队里的开发人员提交的代码符合规范，我们可以在开发者上传代码时进行\n校验。")]),s._v(" "),a("p",[s._v("我们常用 husky 来协助进行代码提交时的 eslint 校验。")]),s._v(" "),a("p",[s._v("本地的git仓库存在一个隐藏文件"),a("code",[s._v(".git")]),s._v(",.git/hooks文件夹下面有很多"),a("code",[s._v(".sample")]),s._v("后缀的文件，去掉这些后缀就是对应的钩子文件。")]),s._v(" "),a("blockquote",[a("p",[s._v("window环境下")])]),s._v(" "),a("p",[s._v("可以手动创建"),a("code",[s._v("pro-commit")]),s._v("文件，表示在执行"),a("code",[s._v("git commit")]),s._v("这个操作时，会执行这个文件内的指令。")]),s._v(" "),a("p",[s._v("比如，写入"),a("code",[s._v("npx eslint ./src")]),s._v("则代表每次"),a("code",[s._v("commit")]),s._v("的时候都会检测根目录下src文件夹下的文件是否符合"),a("code",[s._v("eslint")]),s._v("语法")]),s._v(" "),a("ul",[a("li",[s._v("更改执行文件位置\n不想用.git的话,怎么更改默认的运行文件？")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 项目根目录下")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 手动配置为.mygithooks文件夹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config core.hooksPath .mygithooks\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("新版husky(7.0以上)\n"),a("ul",[a("li",[s._v("安装")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -D husky\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("添加脚本")])]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[s._v("\x3c!-- package.json --\x3e\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"prepare"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"husky install"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("code",[s._v("prepare")]),s._v("脚本会在"),a("code",[s._v("npm install")]),s._v("（不带参数）之后自动执行。\n也就是说当我们执行"),a("code",[s._v("npm install")]),s._v("安装完项目依赖后会执行 "),a("code",[s._v("husky install")]),s._v("命令，该命令会创建"),a("code",[s._v(".husky/")]),s._v("目录并指定该目录为"),a("code",[s._v("git hooks")]),s._v("所在的目录。\n"),a("ul",[a("li",[s._v("创建"),a("code",[s._v("git hooks")])])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("npx husky "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" .husky/pre-commit "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm run test"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),s._v("该指令会在.husky文件夹下创建一个名为pre-commit的shell脚本。脚本如下"),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/sh")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dirname")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v('"')]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('/_/husky.sh"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),s._v("实测，可以提示错误信息。除了文件式，还可以使用配置式。写入如下"),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"husky"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"hooks"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"pre-commit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm run test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"..."')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"..."')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[s._v("参考："),a("a",{attrs:{href:"https://www.jianshu.com/p/0e51c0c39280",target:"_blank",rel:"noopener noreferrer"}},[s._v("前端代码风格自动化——Husky、Commitlint、Lint-staged、Prettier"),a("OutboundLink")],1)])])])]),s._v(" "),a("h3",{attrs:{id:"第二章-模块与依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第二章-模块与依赖"}},[s._v("#")]),s._v(" 第二章：模块与依赖")]),s._v(" "),a("h4",{attrs:{id:"_2-2-1-webpack-模块与解析原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-webpack-模块与解析原理"}},[s._v("#")]),s._v(" 2.2.1 Webpack 模块与解析原理")]),s._v(" "),a("ul",[a("li",[s._v("1、webpack模块\n能在webpack工程化环境里成功导入的模块，都可以视作webpack模块。webpack 模块 能以各种方式表达它们的依赖关系。\n下面是一些示例：\n"),a("ul",[a("li",[s._v("ES2015 import 语句")]),s._v(" "),a("li",[s._v("CommonJS require() 语句")]),s._v(" "),a("li",[s._v("AMD define 和 require 语句")]),s._v(" "),a("li",[s._v("css/sass/less 文件中的 @import 语句")]),s._v(" "),a("li",[s._v("stylesheet url(...) 或者 HTML "),a("code",[s._v("<img src=...>")]),s._v("文件中的图片链接\nWebpack 天生支持如下模块类型：")]),s._v(" "),a("li",[s._v("ECMAScript 模块")]),s._v(" "),a("li",[s._v("CommonJS 模块")]),s._v(" "),a("li",[s._v("AMD 模块")]),s._v(" "),a("li",[s._v("Assets")]),s._v(" "),a("li",[s._v("WebAssembly 模块")])])])]),s._v(" "),a("h4",{attrs:{id:"_2-2-2-模块解析-resolve"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-模块解析-resolve"}},[s._v("#")]),s._v(" 2.2.2 模块解析(resolve)")]),s._v(" "),a("p",[s._v("们运行webpack的时候(就是我们执行webpack命令进行打包时)，其实就是相当于执行了下面的代码：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" webpack "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'webpack'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" compiler "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("webpack")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...这是我们配置的webpackconfig对象 })")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"_2-2-3-外部扩展-externals"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-外部扩展-externals"}},[s._v("#")]),s._v(" 2.2.3 外部扩展(Externals)")]),s._v(" "),a("h4",{attrs:{id:"_2-2-4-依赖图-dependency-graph"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-4-依赖图-dependency-graph"}},[s._v("#")]),s._v(" 2.2.4 依赖图(dependency graph)")]),s._v(" "),a("h3",{attrs:{id:"第三章-扩展功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第三章-扩展功能"}},[s._v("#")]),s._v(" 第三章：扩展功能")]),s._v(" "),a("h4",{attrs:{id:"_2-3-1-postcss-与-css模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-postcss-与-css模块"}},[s._v("#")]),s._v(" 2.3.1 PostCSS 与 CSS模块")]),s._v(" "),a("h4",{attrs:{id:"_2-3-2-web-works"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-web-works"}},[s._v("#")]),s._v(" 2.3.2 Web Works")]),s._v(" "),a("h4",{attrs:{id:"_2-3-3-typescript"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-3-typescript"}},[s._v("#")]),s._v(" 2.3.3 TypeScript")]),s._v(" "),a("h3",{attrs:{id:"第四章-多页面应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第四章-多页面应用"}},[s._v("#")]),s._v(" 第四章：多页面应用")]),s._v(" "),a("h4",{attrs:{id:"_2-4-1-entry-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-1-entry-配置"}},[s._v("#")]),s._v(" 2.4.1 entry 配置")]),s._v(" "),a("h4",{attrs:{id:"_2-4-2-配置-index-html-模板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-2-配置-index-html-模板"}},[s._v("#")]),s._v(" 2.4.2 配置 index.html 模板")]),s._v(" "),a("h4",{attrs:{id:"_2-4-3-多页面应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-3-多页面应用"}},[s._v("#")]),s._v(" 2.4.3 多页面应用")]),s._v(" "),a("h3",{attrs:{id:"第五章-tree-shaking"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第五章-tree-shaking"}},[s._v("#")]),s._v(" 第五章：Tree shaking")]),s._v(" "),a("h4",{attrs:{id:"_2-5-1-tree-shaking实验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-1-tree-shaking实验"}},[s._v("#")]),s._v(" 2.5.1 tree-shaking实验")]),s._v(" "),a("h4",{attrs:{id:"_2-5-2-sideeffects"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-2-sideeffects"}},[s._v("#")]),s._v(" 2.5.2 sideEffects")]),s._v(" "),a("h3",{attrs:{id:"第六章-渐进式网络应用程序-pwa"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第六章-渐进式网络应用程序-pwa"}},[s._v("#")]),s._v(" 第六章：渐进式网络应用程序 PWA")]),s._v(" "),a("h4",{attrs:{id:"_2-6-1-非离线环境下运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-1-非离线环境下运行"}},[s._v("#")]),s._v(" 2.6.1 非离线环境下运行")]),s._v(" "),a("h4",{attrs:{id:"_2-6-2-添加-workbox"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-2-添加-workbox"}},[s._v("#")]),s._v(" 2.6.2 添加 Workbox")]),s._v(" "),a("h4",{attrs:{id:"_2-6-3-注册-service-worker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-3-注册-service-worker"}},[s._v("#")]),s._v(" 2.6.3 注册 Service Worker")]),s._v(" "),a("h3",{attrs:{id:"第七章-shimming-预置依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第七章-shimming-预置依赖"}},[s._v("#")]),s._v(" 第七章：shimming 预置依赖")]),s._v(" "),a("h4",{attrs:{id:"_2-7-1-shimming-预置全局变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-1-shimming-预置全局变量"}},[s._v("#")]),s._v(" 2.7.1 Shimming 预置全局变量")]),s._v(" "),a("h4",{attrs:{id:"_2-7-2-细粒度-shimming"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-2-细粒度-shimming"}},[s._v("#")]),s._v(" 2.7.2 细粒度 Shimming")]),s._v(" "),a("h4",{attrs:{id:"_2-7-3-全局-exports"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-3-全局-exports"}},[s._v("#")]),s._v(" 2.7.3 全局 Exports")]),s._v(" "),a("h4",{attrs:{id:"_2-7-4-加载-polyfills"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-4-加载-polyfills"}},[s._v("#")]),s._v(" 2.7.4 加载 Polyfills")]),s._v(" "),a("h4",{attrs:{id:"_2-7-5-进一步优化-polyfills"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-5-进一步优化-polyfills"}},[s._v("#")]),s._v(" 2.7.5 进一步优化 Polyfills")]),s._v(" "),a("h3",{attrs:{id:"第八章-创建library"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第八章-创建library"}},[s._v("#")]),s._v(" 第八章：创建library")]),s._v(" "),a("h4",{attrs:{id:"_2-8-1如何构建library"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-1如何构建library"}},[s._v("#")]),s._v(" 2.8.1如何构建library")]),s._v(" "),a("h4",{attrs:{id:"_2-8-2-构建小轮子"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-2-构建小轮子"}},[s._v("#")]),s._v(" 2.8.2-构建小轮子")]),s._v(" "),a("h4",{attrs:{id:"_2-8-3-发布为npm-package"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-3-发布为npm-package"}},[s._v("#")]),s._v(" 2.8.3-发布为npm-package")]),s._v(" "),a("h3",{attrs:{id:"第九章-模块联邦"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第九章-模块联邦"}},[s._v("#")]),s._v(" 第九章：模块联邦")]),s._v(" "),a("h4",{attrs:{id:"_2-9-1-什么是模块联邦"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-1-什么是模块联邦"}},[s._v("#")]),s._v(" 2.9.1-什么是模块联邦")]),s._v(" "),a("h4",{attrs:{id:"_2-9-2-搭建三个应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-2-搭建三个应用"}},[s._v("#")]),s._v(" 2.9.2-搭建三个应用")]),s._v(" "),a("h4",{attrs:{id:"_2-9-3-使用模块联邦"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-3-使用模块联邦"}},[s._v("#")]),s._v(" 2.9.3-使用模块联邦")]),s._v(" "),a("h3",{attrs:{id:"第十章-提升构建性能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第十章-提升构建性能"}},[s._v("#")]),s._v(" 第十章：提升构建性能")]),s._v(" "),a("h4",{attrs:{id:"_2-10-1八个通用构建优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-1八个通用构建优化"}},[s._v("#")]),s._v(" 2.10.1八个通用构建优化")]),s._v(" "),a("h4",{attrs:{id:"_2-10-2通用构建优化-dll"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-2通用构建优化-dll"}},[s._v("#")]),s._v(" 2.10.2通用构建优化-dll")]),s._v(" "),a("h4",{attrs:{id:"_2-10-3通用构建优化-worker-pool"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-3通用构建优化-worker-pool"}},[s._v("#")]),s._v(" 2.10.3通用构建优化-worker-pool")]),s._v(" "),a("h4",{attrs:{id:"_2-10-4-、开发环境和生产环境优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-4-、开发环境和生产环境优化"}},[s._v("#")]),s._v(" 2.10.4-、开发环境和生产环境优化")])])}),[],!1,null,null,null);t.default=r.exports}}]);