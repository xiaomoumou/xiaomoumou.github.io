<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>js里的设计模式 | 最后的愿望</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/img/panda-waving.png">
    <meta name="description" content="web前端技术博客,简洁至上,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.c4686584.css" as="style"><link rel="preload" href="/assets/js/app.0a491131.js" as="script"><link rel="preload" href="/assets/js/3.e939b714.js" as="script"><link rel="preload" href="/assets/js/46.ded4e270.js" as="script"><link rel="prefetch" href="/assets/js/1.60f0de36.js"><link rel="prefetch" href="/assets/js/10.02c06d89.js"><link rel="prefetch" href="/assets/js/100.a9c0107d.js"><link rel="prefetch" href="/assets/js/101.90235a4e.js"><link rel="prefetch" href="/assets/js/102.c4839a72.js"><link rel="prefetch" href="/assets/js/103.1f40532b.js"><link rel="prefetch" href="/assets/js/104.47a3b7aa.js"><link rel="prefetch" href="/assets/js/105.f2ebd65c.js"><link rel="prefetch" href="/assets/js/106.d938bdfa.js"><link rel="prefetch" href="/assets/js/107.0927057e.js"><link rel="prefetch" href="/assets/js/108.f4ad507e.js"><link rel="prefetch" href="/assets/js/109.58d87a41.js"><link rel="prefetch" href="/assets/js/11.9ec2ef8e.js"><link rel="prefetch" href="/assets/js/110.3fb52a19.js"><link rel="prefetch" href="/assets/js/111.0d2d1f9d.js"><link rel="prefetch" href="/assets/js/112.2ad15bc5.js"><link rel="prefetch" href="/assets/js/113.6e7de391.js"><link rel="prefetch" href="/assets/js/114.1c1bea4c.js"><link rel="prefetch" href="/assets/js/115.c7d02b65.js"><link rel="prefetch" href="/assets/js/116.bfe55dbc.js"><link rel="prefetch" href="/assets/js/117.1089362c.js"><link rel="prefetch" href="/assets/js/118.bfe87e17.js"><link rel="prefetch" href="/assets/js/119.b8ad411d.js"><link rel="prefetch" href="/assets/js/12.0bdaadc9.js"><link rel="prefetch" href="/assets/js/120.29e36b3c.js"><link rel="prefetch" href="/assets/js/121.6f781930.js"><link rel="prefetch" href="/assets/js/122.2906e3df.js"><link rel="prefetch" href="/assets/js/123.f5b8423a.js"><link rel="prefetch" href="/assets/js/124.e51f3923.js"><link rel="prefetch" href="/assets/js/125.48c598e3.js"><link rel="prefetch" href="/assets/js/126.37630379.js"><link rel="prefetch" href="/assets/js/127.78eda900.js"><link rel="prefetch" href="/assets/js/128.8e914b50.js"><link rel="prefetch" href="/assets/js/129.050b8ac1.js"><link rel="prefetch" href="/assets/js/13.95d20c2d.js"><link rel="prefetch" href="/assets/js/130.bbe025a7.js"><link rel="prefetch" href="/assets/js/131.d24c5c95.js"><link rel="prefetch" href="/assets/js/132.c167c6fa.js"><link rel="prefetch" href="/assets/js/133.3dd587b7.js"><link rel="prefetch" href="/assets/js/134.7e500376.js"><link rel="prefetch" href="/assets/js/135.593b6163.js"><link rel="prefetch" href="/assets/js/136.37fc0552.js"><link rel="prefetch" href="/assets/js/137.3724f0c2.js"><link rel="prefetch" href="/assets/js/138.ff85caa9.js"><link rel="prefetch" href="/assets/js/139.26234a39.js"><link rel="prefetch" href="/assets/js/14.36c32df1.js"><link rel="prefetch" href="/assets/js/140.b048a538.js"><link rel="prefetch" href="/assets/js/141.bca8c4ef.js"><link rel="prefetch" href="/assets/js/142.f9bf435e.js"><link rel="prefetch" href="/assets/js/143.8e8bd420.js"><link rel="prefetch" href="/assets/js/144.b0000285.js"><link rel="prefetch" href="/assets/js/145.fc2d37ba.js"><link rel="prefetch" href="/assets/js/146.6b21b81a.js"><link rel="prefetch" href="/assets/js/147.b5347dbd.js"><link rel="prefetch" href="/assets/js/148.8c545ec1.js"><link rel="prefetch" href="/assets/js/149.4db2c1a1.js"><link rel="prefetch" href="/assets/js/15.b6cee57e.js"><link rel="prefetch" href="/assets/js/150.66ac848b.js"><link rel="prefetch" href="/assets/js/151.a9a8e0fa.js"><link rel="prefetch" href="/assets/js/152.09bc0a16.js"><link rel="prefetch" href="/assets/js/153.b1d82c14.js"><link rel="prefetch" href="/assets/js/154.9e450586.js"><link rel="prefetch" href="/assets/js/155.12ffe3bd.js"><link rel="prefetch" href="/assets/js/156.f98950d1.js"><link rel="prefetch" href="/assets/js/157.3ac9ecb8.js"><link rel="prefetch" href="/assets/js/158.09b57cf8.js"><link rel="prefetch" href="/assets/js/159.8adfab73.js"><link rel="prefetch" href="/assets/js/16.b542e178.js"><link rel="prefetch" href="/assets/js/160.585604c6.js"><link rel="prefetch" href="/assets/js/161.af94a6ef.js"><link rel="prefetch" href="/assets/js/162.aa8e79c1.js"><link rel="prefetch" href="/assets/js/163.f2e49c1b.js"><link rel="prefetch" href="/assets/js/164.27a23305.js"><link rel="prefetch" href="/assets/js/165.5ba1cec7.js"><link rel="prefetch" href="/assets/js/166.56a72189.js"><link rel="prefetch" href="/assets/js/167.c38026fe.js"><link rel="prefetch" href="/assets/js/168.10b08d93.js"><link rel="prefetch" href="/assets/js/169.aada75f5.js"><link rel="prefetch" href="/assets/js/17.99dbb29c.js"><link rel="prefetch" href="/assets/js/170.02230d54.js"><link rel="prefetch" href="/assets/js/171.12d2af9c.js"><link rel="prefetch" href="/assets/js/172.3a6c10e8.js"><link rel="prefetch" href="/assets/js/173.5429bcf4.js"><link rel="prefetch" href="/assets/js/174.7aacc8a1.js"><link rel="prefetch" href="/assets/js/175.a7a35d6e.js"><link rel="prefetch" href="/assets/js/176.f97092ba.js"><link rel="prefetch" href="/assets/js/177.ceb9f7d6.js"><link rel="prefetch" href="/assets/js/178.faf2f842.js"><link rel="prefetch" href="/assets/js/179.6be68857.js"><link rel="prefetch" href="/assets/js/18.49f79292.js"><link rel="prefetch" href="/assets/js/180.c120394f.js"><link rel="prefetch" href="/assets/js/181.614c2dea.js"><link rel="prefetch" href="/assets/js/182.cf3e42a6.js"><link rel="prefetch" href="/assets/js/183.cb35e91c.js"><link rel="prefetch" href="/assets/js/184.a7e55cdd.js"><link rel="prefetch" href="/assets/js/185.10f15b6c.js"><link rel="prefetch" href="/assets/js/186.e3cfa3fb.js"><link rel="prefetch" href="/assets/js/187.acb7b96c.js"><link rel="prefetch" href="/assets/js/188.13bba2ae.js"><link rel="prefetch" href="/assets/js/189.3f713441.js"><link rel="prefetch" href="/assets/js/19.4b302882.js"><link rel="prefetch" href="/assets/js/190.e52a63b8.js"><link rel="prefetch" href="/assets/js/191.efc59b2e.js"><link rel="prefetch" href="/assets/js/192.30f2b12e.js"><link rel="prefetch" href="/assets/js/193.5ed07fea.js"><link rel="prefetch" href="/assets/js/194.cc03906c.js"><link rel="prefetch" href="/assets/js/195.c2def90a.js"><link rel="prefetch" href="/assets/js/196.04cc4365.js"><link rel="prefetch" href="/assets/js/197.9c73d4c3.js"><link rel="prefetch" href="/assets/js/198.047c36d5.js"><link rel="prefetch" href="/assets/js/199.881ff7e2.js"><link rel="prefetch" href="/assets/js/20.2cc33aa4.js"><link rel="prefetch" href="/assets/js/200.957d7be5.js"><link rel="prefetch" href="/assets/js/201.28f1d6d8.js"><link rel="prefetch" href="/assets/js/202.f2ae7dd2.js"><link rel="prefetch" href="/assets/js/203.eba3bc52.js"><link rel="prefetch" href="/assets/js/204.db0111b6.js"><link rel="prefetch" href="/assets/js/205.970c102b.js"><link rel="prefetch" href="/assets/js/206.8e0f3bc9.js"><link rel="prefetch" href="/assets/js/207.2353f86c.js"><link rel="prefetch" href="/assets/js/208.2c679366.js"><link rel="prefetch" href="/assets/js/209.450e0ffd.js"><link rel="prefetch" href="/assets/js/21.5d6abe07.js"><link rel="prefetch" href="/assets/js/210.f8fdd265.js"><link rel="prefetch" href="/assets/js/211.d552daf9.js"><link rel="prefetch" href="/assets/js/212.841d8a8d.js"><link rel="prefetch" href="/assets/js/213.a68d6658.js"><link rel="prefetch" href="/assets/js/214.8a082dfd.js"><link rel="prefetch" href="/assets/js/215.86ebacb4.js"><link rel="prefetch" href="/assets/js/216.8bd4ac2b.js"><link rel="prefetch" href="/assets/js/217.4ea55609.js"><link rel="prefetch" href="/assets/js/218.75a22004.js"><link rel="prefetch" href="/assets/js/219.495c7442.js"><link rel="prefetch" href="/assets/js/22.c259292c.js"><link rel="prefetch" href="/assets/js/220.b654c2f7.js"><link rel="prefetch" href="/assets/js/221.7bd45b65.js"><link rel="prefetch" href="/assets/js/222.da6f9a7a.js"><link rel="prefetch" href="/assets/js/223.f06afdec.js"><link rel="prefetch" href="/assets/js/224.2dcfb156.js"><link rel="prefetch" href="/assets/js/225.e07a387b.js"><link rel="prefetch" href="/assets/js/226.d708f5fa.js"><link rel="prefetch" href="/assets/js/227.6256dc53.js"><link rel="prefetch" href="/assets/js/228.2ccc1ed9.js"><link rel="prefetch" href="/assets/js/229.25e71668.js"><link rel="prefetch" href="/assets/js/23.6eb89b7d.js"><link rel="prefetch" href="/assets/js/230.126b4b7d.js"><link rel="prefetch" href="/assets/js/231.181fc409.js"><link rel="prefetch" href="/assets/js/232.9dc1f901.js"><link rel="prefetch" href="/assets/js/233.0d399051.js"><link rel="prefetch" href="/assets/js/234.624de3cf.js"><link rel="prefetch" href="/assets/js/235.39062607.js"><link rel="prefetch" href="/assets/js/236.0cb4c608.js"><link rel="prefetch" href="/assets/js/237.42d687f9.js"><link rel="prefetch" href="/assets/js/238.1a28e9e6.js"><link rel="prefetch" href="/assets/js/239.82a4251b.js"><link rel="prefetch" href="/assets/js/24.b6c27126.js"><link rel="prefetch" href="/assets/js/240.e89eedc1.js"><link rel="prefetch" href="/assets/js/241.0bdf678e.js"><link rel="prefetch" href="/assets/js/242.6e096dce.js"><link rel="prefetch" href="/assets/js/243.ea171779.js"><link rel="prefetch" href="/assets/js/244.d9b1ad5f.js"><link rel="prefetch" href="/assets/js/245.2d20d7b1.js"><link rel="prefetch" href="/assets/js/246.623afea4.js"><link rel="prefetch" href="/assets/js/247.3fa8be75.js"><link rel="prefetch" href="/assets/js/248.078a687b.js"><link rel="prefetch" href="/assets/js/249.fb07264a.js"><link rel="prefetch" href="/assets/js/25.bb78b61e.js"><link rel="prefetch" href="/assets/js/250.d243d90e.js"><link rel="prefetch" href="/assets/js/251.9d0ad948.js"><link rel="prefetch" href="/assets/js/252.b44934bd.js"><link rel="prefetch" href="/assets/js/253.45741fb7.js"><link rel="prefetch" href="/assets/js/254.7bf6cedb.js"><link rel="prefetch" href="/assets/js/255.03208502.js"><link rel="prefetch" href="/assets/js/256.9f5c42e4.js"><link rel="prefetch" href="/assets/js/257.a3edc064.js"><link rel="prefetch" href="/assets/js/258.78aab245.js"><link rel="prefetch" href="/assets/js/259.1e58d5b4.js"><link rel="prefetch" href="/assets/js/26.2322130c.js"><link rel="prefetch" href="/assets/js/260.2ec7cc9a.js"><link rel="prefetch" href="/assets/js/261.18c5013c.js"><link rel="prefetch" href="/assets/js/262.b6c77900.js"><link rel="prefetch" href="/assets/js/263.f14434bf.js"><link rel="prefetch" href="/assets/js/264.c6cbb781.js"><link rel="prefetch" href="/assets/js/265.6ad406d8.js"><link rel="prefetch" href="/assets/js/266.d1d46847.js"><link rel="prefetch" href="/assets/js/267.c694c92b.js"><link rel="prefetch" href="/assets/js/268.016ff905.js"><link rel="prefetch" href="/assets/js/269.3f2bcfdb.js"><link rel="prefetch" href="/assets/js/27.39f483cf.js"><link rel="prefetch" href="/assets/js/270.afb99f22.js"><link rel="prefetch" href="/assets/js/271.72b74a1a.js"><link rel="prefetch" href="/assets/js/272.01eda959.js"><link rel="prefetch" href="/assets/js/273.1f5e5a3a.js"><link rel="prefetch" href="/assets/js/274.0acb7561.js"><link rel="prefetch" href="/assets/js/275.ea167b11.js"><link rel="prefetch" href="/assets/js/276.1ac24908.js"><link rel="prefetch" href="/assets/js/277.c9e2ad3c.js"><link rel="prefetch" href="/assets/js/278.8ae8adbb.js"><link rel="prefetch" href="/assets/js/279.3e885f67.js"><link rel="prefetch" href="/assets/js/28.c23b333f.js"><link rel="prefetch" href="/assets/js/280.9aa72a59.js"><link rel="prefetch" href="/assets/js/281.b2c665fc.js"><link rel="prefetch" href="/assets/js/282.fe21ab9f.js"><link rel="prefetch" href="/assets/js/283.a9d33247.js"><link rel="prefetch" href="/assets/js/284.6b6b7146.js"><link rel="prefetch" href="/assets/js/285.9b700d48.js"><link rel="prefetch" href="/assets/js/286.1361d9c1.js"><link rel="prefetch" href="/assets/js/287.b4fe0bbe.js"><link rel="prefetch" href="/assets/js/288.81d3ee12.js"><link rel="prefetch" href="/assets/js/289.4a121fed.js"><link rel="prefetch" href="/assets/js/29.54c2304c.js"><link rel="prefetch" href="/assets/js/290.b641d113.js"><link rel="prefetch" href="/assets/js/291.1eb5b5be.js"><link rel="prefetch" href="/assets/js/30.56161903.js"><link rel="prefetch" href="/assets/js/31.14dad76e.js"><link rel="prefetch" href="/assets/js/32.5b7e74af.js"><link rel="prefetch" href="/assets/js/33.e46c133c.js"><link rel="prefetch" href="/assets/js/34.cc39bab0.js"><link rel="prefetch" href="/assets/js/35.c8f04a98.js"><link rel="prefetch" href="/assets/js/36.bdc1c80f.js"><link rel="prefetch" href="/assets/js/37.fe49ab81.js"><link rel="prefetch" href="/assets/js/38.c2797029.js"><link rel="prefetch" href="/assets/js/39.0b9df822.js"><link rel="prefetch" href="/assets/js/4.0b97140b.js"><link rel="prefetch" href="/assets/js/40.c238cb89.js"><link rel="prefetch" href="/assets/js/41.867d4b77.js"><link rel="prefetch" href="/assets/js/42.dd60642e.js"><link rel="prefetch" href="/assets/js/43.9adbd499.js"><link rel="prefetch" href="/assets/js/44.ed17c9ab.js"><link rel="prefetch" href="/assets/js/45.e071714b.js"><link rel="prefetch" href="/assets/js/47.a9b5f80e.js"><link rel="prefetch" href="/assets/js/48.b9fc350d.js"><link rel="prefetch" href="/assets/js/49.31625446.js"><link rel="prefetch" href="/assets/js/5.b0da1f4a.js"><link rel="prefetch" href="/assets/js/50.22284e22.js"><link rel="prefetch" href="/assets/js/51.dadbd329.js"><link rel="prefetch" href="/assets/js/52.5674840e.js"><link rel="prefetch" href="/assets/js/53.7048737d.js"><link rel="prefetch" href="/assets/js/54.6cbf7044.js"><link rel="prefetch" href="/assets/js/55.5665213f.js"><link rel="prefetch" href="/assets/js/56.6a8b0d82.js"><link rel="prefetch" href="/assets/js/57.e3b1f0a3.js"><link rel="prefetch" href="/assets/js/58.d952bb5a.js"><link rel="prefetch" href="/assets/js/59.9521c0c3.js"><link rel="prefetch" href="/assets/js/6.ca0b18b0.js"><link rel="prefetch" href="/assets/js/60.e80cbbf0.js"><link rel="prefetch" href="/assets/js/61.af2094fc.js"><link rel="prefetch" href="/assets/js/62.327c9702.js"><link rel="prefetch" href="/assets/js/63.9f975790.js"><link rel="prefetch" href="/assets/js/64.1a1d3ef3.js"><link rel="prefetch" href="/assets/js/65.228a9b05.js"><link rel="prefetch" href="/assets/js/66.20d9b0ab.js"><link rel="prefetch" href="/assets/js/67.950cd7af.js"><link rel="prefetch" href="/assets/js/68.0d9da103.js"><link rel="prefetch" href="/assets/js/69.f317be82.js"><link rel="prefetch" href="/assets/js/7.3248ea2b.js"><link rel="prefetch" href="/assets/js/70.c14cfa43.js"><link rel="prefetch" href="/assets/js/71.e12aba6a.js"><link rel="prefetch" href="/assets/js/72.7c429ce2.js"><link rel="prefetch" href="/assets/js/73.0121c321.js"><link rel="prefetch" href="/assets/js/74.ee5ae648.js"><link rel="prefetch" href="/assets/js/75.666e7cec.js"><link rel="prefetch" href="/assets/js/76.5f788ec7.js"><link rel="prefetch" href="/assets/js/77.d2e767eb.js"><link rel="prefetch" href="/assets/js/78.98f6b3ae.js"><link rel="prefetch" href="/assets/js/79.92be69c7.js"><link rel="prefetch" href="/assets/js/8.9c622d48.js"><link rel="prefetch" href="/assets/js/80.0614cca5.js"><link rel="prefetch" href="/assets/js/81.0bf39d34.js"><link rel="prefetch" href="/assets/js/82.4bf68771.js"><link rel="prefetch" href="/assets/js/83.8f1a8af9.js"><link rel="prefetch" href="/assets/js/84.bc37566e.js"><link rel="prefetch" href="/assets/js/85.fcc8878e.js"><link rel="prefetch" href="/assets/js/86.b1994bb7.js"><link rel="prefetch" href="/assets/js/87.4a2628e4.js"><link rel="prefetch" href="/assets/js/88.7f195de0.js"><link rel="prefetch" href="/assets/js/89.7ed8e91b.js"><link rel="prefetch" href="/assets/js/9.2bd4b3d3.js"><link rel="prefetch" href="/assets/js/90.fdb226b3.js"><link rel="prefetch" href="/assets/js/91.3dba0dfc.js"><link rel="prefetch" href="/assets/js/92.b73ffa7e.js"><link rel="prefetch" href="/assets/js/93.09202fb5.js"><link rel="prefetch" href="/assets/js/94.65648779.js"><link rel="prefetch" href="/assets/js/95.650189a1.js"><link rel="prefetch" href="/assets/js/96.5445970a.js"><link rel="prefetch" href="/assets/js/97.544adf83.js"><link rel="prefetch" href="/assets/js/98.f354e475.js"><link rel="prefetch" href="/assets/js/99.28d46618.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c4686584.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/EB-logo.png" alt="最后的愿望" class="logo"> <span class="site-name can-hide">最后的愿望</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/712a66/" class="nav-link">记录</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习" class="dropdown-title"><!----> <span class="title" style="display:;">学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/bcc2f9/" class="nav-link">知识体系</a></li><li class="dropdown-item"><!----> <a href="/pages/f6ad43/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/pages/1e3bc3/" class="nav-link">javascript</a></li><li class="dropdown-item"><!----> <a href="/pages/7035e5/" class="nav-link">vue</a></li><li class="dropdown-item"><!----> <a href="/pages/bb050b/" class="nav-link">算法</a></li><li class="dropdown-item"><!----> <a href="/pages/a93acf/" class="nav-link">工具</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="句子" class="dropdown-title"><!----> <span class="title" style="display:;">句子</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/0f578e/" class="nav-link">小说</a></li><li class="dropdown-item"><!----> <a href="/pages/05e2c6/" class="nav-link">电影</a></li><li class="dropdown-item"><!----> <a href="/pages/26303c/" class="nav-link">生活</a></li><li class="dropdown-item"><!----> <a href="/pages/31c195/" class="nav-link">名著</a></li><li class="dropdown-item"><!----> <a href="/pages/2eb230/" class="nav-link">动漫</a></li><li class="dropdown-item"><!----> <a href="/pages/c9e4f8/" class="nav-link">闲书</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><!----> <span class="title" style="display:;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/0796ba76b4b55368/" class="nav-link">《JavaScript教程》</a></li><li class="dropdown-item"><!----> <a href="/pages/f344d070a1031ef7/" class="nav-link">《ES6 教程》</a></li></ul></div></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/lazyCat.jpg"> <div class="blogger-info"><h3>最后的愿望</h3> <span>所谓真人，指的是身心内外洗炼纯净。不迷不惘境界不失，应为便是愿为，此谓真如不二。</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/712a66/" class="nav-link">记录</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习" class="dropdown-title"><!----> <span class="title" style="display:;">学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/bcc2f9/" class="nav-link">知识体系</a></li><li class="dropdown-item"><!----> <a href="/pages/f6ad43/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/pages/1e3bc3/" class="nav-link">javascript</a></li><li class="dropdown-item"><!----> <a href="/pages/7035e5/" class="nav-link">vue</a></li><li class="dropdown-item"><!----> <a href="/pages/bb050b/" class="nav-link">算法</a></li><li class="dropdown-item"><!----> <a href="/pages/a93acf/" class="nav-link">工具</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="句子" class="dropdown-title"><!----> <span class="title" style="display:;">句子</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/0f578e/" class="nav-link">小说</a></li><li class="dropdown-item"><!----> <a href="/pages/05e2c6/" class="nav-link">电影</a></li><li class="dropdown-item"><!----> <a href="/pages/26303c/" class="nav-link">生活</a></li><li class="dropdown-item"><!----> <a href="/pages/31c195/" class="nav-link">名著</a></li><li class="dropdown-item"><!----> <a href="/pages/2eb230/" class="nav-link">动漫</a></li><li class="dropdown-item"><!----> <a href="/pages/c9e4f8/" class="nav-link">闲书</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><!----> <span class="title" style="display:;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/0796ba76b4b55368/" class="nav-link">《JavaScript教程》</a></li><li class="dropdown-item"><!----> <a href="/pages/f344d070a1031ef7/" class="nav-link">《ES6 教程》</a></li></ul></div></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/pages/bcc2f9/" class="sidebar-link">知识体系</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>css</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>javascript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/1e3bc3/" class="sidebar-link">javaScript学习列表</a></li><li><a href="/pages/e0f0a9/" class="sidebar-link">JavaScript高级程序设计</a></li><li><a href="/pages/ff6635/" class="sidebar-link">prototype相关</a></li><li><a href="/pages/a5360b/" class="sidebar-link">深浅拷贝</a></li><li><a href="/pages/86a726/" class="sidebar-link">im通信的整理</a></li><li><a href="/pages/3c24a3/" class="sidebar-link">服务器推送消息</a></li><li><a href="/pages/b823eb/" class="sidebar-link">缓存部分</a></li><li><a href="/pages/5573f9/" class="sidebar-link">数组</a></li><li><a href="/pages/73bacf/" class="sidebar-link">《ES6》1-10</a></li><li><a href="/pages/a0f5da/" class="sidebar-link">遍历循环</a></li><li><a href="/pages/549598/" class="sidebar-link">闭包</a></li><li><a href="/pages/92cc2f/" class="sidebar-link">正则表达式</a></li><li><a href="/pages/2486ec/" aria-current="page" class="active sidebar-link">js里的设计模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/2486ec/#创建型设计模式" class="sidebar-link">创建型设计模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/2486ec/#工厂模式" class="sidebar-link">工厂模式</a></li><li class="sidebar-sub-header"><a href="/pages/2486ec/#单例模式" class="sidebar-link">单例模式</a></li><li class="sidebar-sub-header"><a href="/pages/2486ec/#原型模式" class="sidebar-link">原型模式</a></li><li class="sidebar-sub-header"><a href="/pages/2486ec/#模板方法模式" class="sidebar-link">模板方法模式</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/2486ec/#结构型设计模式" class="sidebar-link">结构型设计模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/2486ec/#适配器模式" class="sidebar-link">适配器模式</a></li><li class="sidebar-sub-header"><a href="/pages/2486ec/#代理模式" class="sidebar-link">代理模式</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/2486ec/#行为型设计模式" class="sidebar-link">行为型设计模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/2486ec/#策略模式" class="sidebar-link">策略模式</a></li><li class="sidebar-sub-header"><a href="/pages/2486ec/#迭代器模式" class="sidebar-link">迭代器模式</a></li><li class="sidebar-sub-header"><a href="/pages/2486ec/#观察者模式-订阅-发布模式" class="sidebar-link">观察者模式(订阅-发布模式)</a></li><li class="sidebar-sub-header"><a href="/pages/2486ec/#命令模式" class="sidebar-link">命令模式</a></li><li class="sidebar-sub-header"><a href="/pages/2486ec/#状态模式" class="sidebar-link">状态模式</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/2486ec/#未分类" class="sidebar-link">未分类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/2486ec/#中介者模式" class="sidebar-link">中介者模式</a></li></ul></li></ul></li><li><a href="/pages/9f0258/" class="sidebar-link">色彩选择器</a></li><li><a href="/pages/ae7a46/" class="sidebar-link">文件上传</a></li><li><a href="/pages/13998d/" class="sidebar-link">对比原生和vue的upload</a></li><li><a href="/pages/41f8d0/" class="sidebar-link">HTTP协议提交方式的一些区别</a></li><li><a href="/pages/13d429/" class="sidebar-link">百度地图使用</a></li><li><a href="/pages/97d898/" class="sidebar-link">generator</a></li><li><a href="/pages/d1e3b4/" class="sidebar-link">前端轮子</a></li><li><a href="/pages/b338dd/" class="sidebar-link">工具函数</a></li><li><a href="/pages/48226d/" class="sidebar-link">运算符优先级</a></li><li><a href="/pages/99a510/" class="sidebar-link">总结一些经验</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>《JavaScript教程》笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>《ES6 教程》笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>《30 Seconds of code》笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>node</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/pages/7f94a7/" class="sidebar-link">面试常考</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工具</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-0c557b5e><div class="articleInfo" data-v-0c557b5e><ul class="breadcrumbs" data-v-0c557b5e><li data-v-0c557b5e><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-0c557b5e></a></li> <li data-v-0c557b5e><a href="/categories/?category=%E5%AD%A6%E4%B9%A0" title="分类" data-v-0c557b5e>学习</a></li><li data-v-0c557b5e><a href="/categories/?category=javascript" title="分类" data-v-0c557b5e>javascript</a></li></ul> <div class="info" data-v-0c557b5e><div title="作者" class="author iconfont icon-touxiang" data-v-0c557b5e><a href="https://github.com/xiaomoumou" target="_blank" title="作者" class="beLink" data-v-0c557b5e>最后的愿望</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>2022-01-12</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">js里的设计模式<!----></h1> <!----> <div class="theme-vdoing-content content__default"><p>23种设计模式，五大设计原则,这些是什么？
</p> <p>参考：</p> <ul><li><p><a href="https://segmentfault.com/a/1190000017787537" target="_blank" rel="noopener noreferrer">JavaScript中常用的设计模式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://www.runoob.com/design-pattern/design-pattern-intro.html" target="_blank" rel="noopener noreferrer">设计模式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://segmentfault.com/a/1190000014919700" target="_blank" rel="noopener noreferrer">JavaScript 中常见设计模式整理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://book.douban.com/subject/26382780/" target="_blank" rel="noopener noreferrer">《JavaScript设计模式与开发实践》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://www.jianshu.com/p/74a004043f4c" target="_blank" rel="noopener noreferrer">简书笔记——javascript设计模式与开发实践<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <h2 id="创建型设计模式"><a href="#创建型设计模式" class="header-anchor">#</a> 创建型设计模式</h2> <h3 id="工厂模式"><a href="#工厂模式" class="header-anchor">#</a> 工厂模式</h3> <p>【定义】：工厂模式中，我们在创建对象时不会对客户端暴露创建逻辑，并且是通过使用一个共同的接口来指向新创建的对象，用工厂方法代替new操作的一种模式。</p> <p>【例子】：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Creator</span> <span class="token punctuation">{</span>
    <span class="token function">create</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> creator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Creator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> duck <span class="token operator">=</span> creator<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">'Duck'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>duck<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// Duck</span>

<span class="token keyword">var</span> chicken <span class="token operator">=</span> creator<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">'Chicken'</span><span class="token punctuation">)</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>chicken<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// Chicken</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>【小结】：构造函数和创建者分离，对new操作进行封装</p> <h3 id="单例模式"><a href="#单例模式" class="header-anchor">#</a> 单例模式</h3> <p>【定义】：保证一个类仅有一个实例，并提供一个访问它的全局访问点。</p> <p>单例模式是一种常用的模式，有一些对象我们往往只需要一个，比如线程池、全局缓存、浏览器中的window对象等。</p> <p>【小结】：单例模式的主要思想：实例如果已经创建，则直接返回</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">creatSingleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token comment">// 实例如已经创建过，直接返回</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        obj <span class="token operator">=</span> xxx
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> obj
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="原型模式"><a href="#原型模式" class="header-anchor">#</a> 原型模式</h3> <p>【定义】：用原型实例指定创建对象的种类，并且通过拷贝这些原型创建新的对象。</p> <p>在JavaScript中，实现原型模式是在ECMAScript5中，提出的<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/create" target="_blank" rel="noopener noreferrer">Object.create<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>方法，使用现有的对象来提供新创建的对象的__proto__。</p> <p>【例子】：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Jack'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>prototype<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">job</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'IT'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// Jack</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>job<span class="token punctuation">)</span>  <span class="token comment">// IT</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> prototype<span class="token punctuation">)</span>  <span class="token comment">//true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="模板方法模式"><a href="#模板方法模式" class="header-anchor">#</a> 模板方法模式</h3> <p>【定义】: 在继承的基础上, 在父类中定义好执行的算法。</p> <p>【例子】： 泡茶和泡咖啡</p> <p>来对比下泡茶和泡咖啡过程中的异同</p> <table><thead><tr><th style="text-align:center;">步骤</th> <th style="text-align:center;">泡茶</th> <th style="text-align:center;">泡咖啡</th></tr></thead> <tbody><tr><td style="text-align:center;">1</td> <td style="text-align:center;">烧开水</td> <td style="text-align:center;">烧开水</td></tr> <tr><td style="text-align:center;">2</td> <td style="text-align:center;">浸泡茶叶</td> <td style="text-align:center;">冲泡咖啡</td></tr> <tr><td style="text-align:center;">3</td> <td style="text-align:center;">倒入杯子</td> <td style="text-align:center;">倒入杯子</td></tr> <tr><td style="text-align:center;">4</td> <td style="text-align:center;">加柠檬</td> <td style="text-align:center;">加糖</td></tr></tbody></table> <p>可以清晰地看出仅仅在步骤 2 和 4 上有细微的差别, 下面着手实现:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">Drinks</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token class-name">Drinks</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">firstStep</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'烧开水'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token class-name">Drinks</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">secondStep</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token class-name">Drinks</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">thirdStep</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'倒入杯子'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token class-name">Drinks</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">fourthStep</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token class-name">Drinks</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">init</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 模板方法模式核心: 在父类上定义好执行算法</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">firstStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">secondStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">thirdStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fourthStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">Tea</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token class-name">Tea</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Drinks</span>

<span class="token class-name">Tea</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">secondStep</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'浸泡茶叶'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token class-name">Tea</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">fourthStep</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'加柠檬'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">Coffee</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token class-name">Coffee</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Drinks</span>

<span class="token class-name">Coffee</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">secondStep</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'冲泡咖啡'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token class-name">Coffee</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">fourthStep</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'加糖'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> tea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tea</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
tea<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 烧开水</span>
<span class="token comment">// 浸泡茶叶</span>
<span class="token comment">// 倒入杯子</span>
<span class="token comment">// 加柠檬</span>

<span class="token keyword">const</span> coffee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Coffee</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
coffee<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 烧开水</span>
<span class="token comment">// 冲泡咖啡</span>
<span class="token comment">// 倒入杯子</span>
<span class="token comment">// 加糖</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br></div></div><p>添加钩子函数</p> <p>假如客人不想加佐料(糖、柠檬)怎么办, 这时可以引人钩子来实现之, 实现逻辑如下:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>
<span class="token comment">// ...</span>

<span class="token class-name">Drinks</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">ifNeedFlavour</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 加上钩子</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>

<span class="token class-name">Drinks</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">init</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 模板方法模式核心: 在父类上定义好执行算法</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">firstStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">secondStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">thirdStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">ifNeedFlavour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 默认是 true, 也就是要加调料</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fourthStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// ...</span>
<span class="token keyword">const</span> <span class="token function-variable function">Coffee</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token class-name">Coffee</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Drinks</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// ...</span>

<span class="token class-name">Coffee</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">ifNeedFlavour</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> window<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'是否需要佐料吗？'</span><span class="token punctuation">)</span> <span class="token comment">// 弹框选择是否佐料</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="结构型设计模式"><a href="#结构型设计模式" class="header-anchor">#</a> 结构型设计模式</h2> <h3 id="适配器模式"><a href="#适配器模式" class="header-anchor">#</a> 适配器模式</h3> <p>【定义】：适配器模式（Adapter Pattern）是作为两个不兼容的接口之间的桥梁。这种类型的设计模式属于结构型模式，它结合了两个独立接口的功能。</p> <p>【例子】：
如果Google的文件渲染地图使用的方法是show（），Baidu文件渲染地图使用的方法是display（），在不改变Google和Baidu文件的情况下，设计一个函数，可以兼容两个文件的渲染函数。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">GooleMap</span> <span class="token punctuation">{</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'渲染谷歌地图'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">BaiduMap</span> <span class="token punctuation">{</span>
    <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'渲染百度地图'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token comment">// 定义适配器类, 对BaiduMap类进行封装</span>
<span class="token keyword">class</span> <span class="token class-name">BaiduMapAdapter</span> <span class="token punctuation">{</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> baiduMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BaiduMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> baiduMap<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">map</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span>show <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        map<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">render</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">GooleMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>         <span class="token comment">// 渲染谷歌地图</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BaiduMapAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 渲染百度地图</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>【小结】：</p> <p>适配器模式主要解决两个接口之间不匹配的问题，不会改变原有的接口，而是由一个对象对另一个对象的包装。</p> <h3 id="代理模式"><a href="#代理模式" class="header-anchor">#</a> 代理模式</h3> <p>【定义】：代理模式是为一个对象提供一个代用品或占位符，以便控制对它的访问。</p> <p>【例子】：
在图片真正加载完之前，使用一张loading占位图片，等图片真正加载完再给图片设置src属性。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">MyImage</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>img<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">setSrc</span><span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>img<span class="token punctuation">.</span>src <span class="token operator">=</span> src
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">ProxyImage</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>proxyImage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token function">setSrc</span><span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> myImageObj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        myImageObj<span class="token punctuation">.</span>img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'file://xxx.png'</span>  <span class="token comment">//为本地图片url</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>proxyImage<span class="token punctuation">.</span>src <span class="token operator">=</span> src
        <span class="token keyword">this</span><span class="token punctuation">.</span>proxyImage<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            myImageObj<span class="token punctuation">.</span>img<span class="token punctuation">.</span>src <span class="token operator">=</span> src
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> proxyImage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ProxyImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
proxyImage<span class="token punctuation">.</span><span class="token function">setSrc</span><span class="token punctuation">(</span><span class="token string">'http://xxx.png'</span><span class="token punctuation">)</span> <span class="token comment">//服务器资源url</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>不需要预加载时，我们可以直接使用本体对象的setSrc方法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 依旧可以满足需求</span>
<span class="token keyword">var</span> myImage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
myImage<span class="token punctuation">.</span><span class="token function">setSrc</span><span class="token punctuation">(</span><span class="token string">'http://qiniu.sunzhaoye.com/CORS.png'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>【小结】：</p> <p>本体对象和代理对象拥有相同的方法，在用户看来并不知道请求的本体对象还是代理对象。</p> <h2 id="行为型设计模式"><a href="#行为型设计模式" class="header-anchor">#</a> 行为型设计模式</h2> <h3 id="策略模式"><a href="#策略模式" class="header-anchor">#</a> 策略模式</h3> <p>定义一系列的算法，把它们一个个封装起来，并使它们可以替换</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">fnA</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> val <span class="token operator">*</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> <span class="token function-variable function">fnB</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> val <span class="token operator">*</span> <span class="token number">2</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> <span class="token function-variable function">fnC</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> val <span class="token operator">*</span> <span class="token number">3</span>
<span class="token punctuation">}</span>


<span class="token keyword">var</span> <span class="token function-variable function">calculate</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">calculate</span><span class="token punctuation">(</span>fnA<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">// 100</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">calculate</span><span class="token punctuation">(</span>fnB<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">// 200</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">calculate</span><span class="token punctuation">(</span>fnC<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">// 300</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="迭代器模式"><a href="#迭代器模式" class="header-anchor">#</a> 迭代器模式</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Creater</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>list <span class="token operator">=</span> list
    <span class="token punctuation">}</span>

    <span class="token comment">// 创建一个迭代器，也叫遍历器</span>
    <span class="token function">createIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Iterator</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Iterator</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">creater</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>list <span class="token operator">=</span> creater<span class="token punctuation">.</span>list
        <span class="token keyword">this</span><span class="token punctuation">.</span>index <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 判断是否遍历完数据</span>
    <span class="token function">isDone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>index <span class="token operator">&gt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>

    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token operator">++</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>

<span class="token keyword">var</span> creater <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Creater</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
<span class="token keyword">var</span> iterator <span class="token operator">=</span> creater<span class="token punctuation">.</span><span class="token function">createIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span>list<span class="token punctuation">)</span>  <span class="token comment">// [1, 2, 3, 4]</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>iterator<span class="token punctuation">.</span><span class="token function">isDone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
    <span class="token comment">// 1</span>
    <span class="token comment">// 2</span>
    <span class="token comment">// 3</span>
    <span class="token comment">// 4</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h3 id="观察者模式-订阅-发布模式"><a href="#观察者模式-订阅-发布模式" class="header-anchor">#</a> 观察者模式(订阅-发布模式)</h3> <p>【定义】：发布-订阅模式又叫观察者模式，它定义对象间的一种一对多的依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都将得到通知。在JavaScript开发中，我们一般用事件模型来替代传统的发布-订阅模式。</p> <p>【例子】：
一个满足先发布后订阅的实例</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Event</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>eventTypeObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cacheObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">on</span><span class="token punctuation">(</span><span class="token parameter">eventType<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>eventTypeObj<span class="token punctuation">[</span>eventType<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 按照不同的订阅事件类型，存储不同的订阅回调</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>eventTypeObj<span class="token punctuation">[</span>eventType<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>eventTypeObj<span class="token punctuation">[</span>eventType<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span>

        <span class="token comment">// 如果是先发布，则在订阅者订阅后，则根据发布后缓存的事件类型和参数，执行订阅者的回调</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cacheObj<span class="token punctuation">[</span>eventType<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> cacheList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cacheObj<span class="token punctuation">[</span>eventType<span class="token punctuation">]</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> cacheList<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                cacheList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 可以理解为arguments借用shift方法</span>
        <span class="token keyword">var</span> eventType <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
        <span class="token keyword">var</span> args <span class="token operator">=</span> arguments
        <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span>

        <span class="token keyword">function</span> <span class="token function">cache</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>that<span class="token punctuation">.</span>eventTypeObj<span class="token punctuation">[</span>eventType<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> eventList <span class="token operator">=</span> that<span class="token punctuation">.</span>eventTypeObj<span class="token punctuation">[</span>eventType<span class="token punctuation">]</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> eventList<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    eventList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>eventList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>cacheObj<span class="token punctuation">[</span>eventType<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>cacheObj<span class="token punctuation">[</span>eventType<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 如果先订阅，则直接订阅后发布</span>
        <span class="token function">cache</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>

        <span class="token comment">// 如果先发布后订阅，则把发布的事件类型与参数保存起来，等到有订阅后执行订阅</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cacheObj<span class="token punctuation">[</span>eventType<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>cache<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><h3 id="命令模式"><a href="#命令模式" class="header-anchor">#</a> 命令模式</h3> <p>【定义】：在命令的发布者和接收者之间，定义一个命令对象，命令对象暴露出一个统一的接口给命令的发布者，而命令的发布者不用去管接收者是如何执行命令的，做到命令发布者和接收者的解耦。</p> <p>【例子】：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>cmd<span class="token operator">-</span>demo<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">&quot;btn1&quot;</span><span class="token operator">&gt;</span>按钮<span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">&quot;btn2&quot;</span><span class="token operator">&gt;</span>按钮<span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">&quot;btn3&quot;</span><span class="token operator">&gt;</span>按钮<span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
        <span class="token keyword">var</span> btn1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn1'</span><span class="token punctuation">)</span>
        <span class="token keyword">var</span> btn2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn2'</span><span class="token punctuation">)</span>
        <span class="token keyword">var</span> btn3 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn3'</span><span class="token punctuation">)</span>

        <span class="token comment">// 定义一个命令发布者(执行者)的类</span>
        <span class="token keyword">class</span> <span class="token class-name">Executor</span> <span class="token punctuation">{</span>
            <span class="token function">setCommand</span><span class="token punctuation">(</span><span class="token parameter">btn<span class="token punctuation">,</span> command</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    command<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 定义一个命令接收者</span>
        <span class="token keyword">class</span> <span class="token class-name">Menu</span> <span class="token punctuation">{</span>
            <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'刷新菜单'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            <span class="token function">addSubMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'增加子菜单'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 定义一个刷新菜单的命令对象的类</span>
        <span class="token keyword">class</span> <span class="token class-name">RefreshMenu</span> <span class="token punctuation">{</span>
            <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">receiver</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 命令对象与接收者关联</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>receiver <span class="token operator">=</span> receiver
            <span class="token punctuation">}</span>

            <span class="token comment">// 暴露出统一的接口给命令发布者Executor</span>
            <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>receiver<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 定义一个增加子菜单的命令对象的类</span>
        <span class="token keyword">class</span> <span class="token class-name">AddSubMenu</span> <span class="token punctuation">{</span>
            <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">receiver</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 命令对象与接收者关联</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>receiver <span class="token operator">=</span> receiver
            <span class="token punctuation">}</span>
            <span class="token comment">// 暴露出统一的接口给命令发布者Executor</span>
            <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>receiver<span class="token punctuation">.</span><span class="token function">addSubMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">var</span> menu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">var</span> executor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Executor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token keyword">var</span> refreshMenu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RefreshMenu</span><span class="token punctuation">(</span>menu<span class="token punctuation">)</span>
        <span class="token comment">// 给按钮1添加刷新功能</span>
        executor<span class="token punctuation">.</span><span class="token function">setCommand</span><span class="token punctuation">(</span>btn1<span class="token punctuation">,</span> refreshMenu<span class="token punctuation">)</span>

        <span class="token keyword">var</span> addSubMenu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AddSubMenu</span><span class="token punctuation">(</span>menu<span class="token punctuation">)</span>
        <span class="token comment">// 给按钮2添加增加子菜单功能</span>
        executor<span class="token punctuation">.</span><span class="token function">setCommand</span><span class="token punctuation">(</span>btn2<span class="token punctuation">,</span> addSubMenu<span class="token punctuation">)</span>

        <span class="token comment">// 如果想给按钮3增加删除菜单的功能，就继续增加删除菜单的命令对象和接收者的具体删除方法，而不必修改命令对象</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br></div></div><h3 id="状态模式"><a href="#状态模式" class="header-anchor">#</a> 状态模式</h3> <p>【定义】：状态模式允许一个对象在其内部状态改变的时候改变行为。这个对象看上去象是改变了它的类一样。状态模式把所研究的对象的行为包装在不同的状态对象里，每一个状态对象都属于一个抽象状态类的一个子类。</p> <p>状态模式的意图是让一个对象在其内部状态改变的时候，其行为也随之改变。</p> <p>状态模式需要对每一个系统可能取得的状态创立一个状态类的子类。当系统的状态变化时，系统便改变所选的子类。</p> <p>【例子】：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>state-demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>开关<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">// 定义一个关闭状态的类   </span>
        <span class="token keyword">class</span> <span class="token class-name">OffLightState</span> <span class="token punctuation">{</span>
            <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">light</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>light <span class="token operator">=</span> light
            <span class="token punctuation">}</span>
            <span class="token comment">// 每个类都需要这个方法，在不同状态下按都需要触发这个方法</span>
            <span class="token function">pressBtn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>light<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>light<span class="token punctuation">.</span>weekLightState<span class="token punctuation">)</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'开启弱光'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 定义一个弱光状态的类   </span>
        <span class="token keyword">class</span> <span class="token class-name">WeekLightState</span> <span class="token punctuation">{</span>
            <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">light</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>light <span class="token operator">=</span> light
            <span class="token punctuation">}</span>
            <span class="token function">pressBtn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>light<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>light<span class="token punctuation">.</span>strongLightState<span class="token punctuation">)</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'开启强光'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 定义一个强光状态的类</span>
        <span class="token keyword">class</span> <span class="token class-name">StrongLightState</span> <span class="token punctuation">{</span>
            <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">light</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>light <span class="token operator">=</span> light
            <span class="token punctuation">}</span>
            <span class="token function">pressBtn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>light<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>light<span class="token punctuation">.</span>offLightState<span class="token punctuation">)</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'关闭电灯'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">class</span> <span class="token class-name">Light</span> <span class="token punctuation">{</span>
            <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>offLightState <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OffLightState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>weekLightState <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeekLightState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>strongLightState <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StrongLightState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>currentState <span class="token operator">=</span> <span class="token keyword">null</span>
            <span class="token punctuation">}</span>
            <span class="token function">setState</span><span class="token punctuation">(</span><span class="token parameter">newState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>currentState <span class="token operator">=</span> newState
            <span class="token punctuation">}</span>
            <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>currentState <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offLightState
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">let</span> light <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Light</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        light<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn'</span><span class="token punctuation">)</span>
        btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            light<span class="token punctuation">.</span>currentState<span class="token punctuation">.</span><span class="token function">pressBtn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br></div></div><h2 id="未分类"><a href="#未分类" class="header-anchor">#</a> 未分类</h2> <h3 id="中介者模式"><a href="#中介者模式" class="header-anchor">#</a> 中介者模式</h3> <p>【定义】中介者模式: 对象和对象之间借助第三方中介者进行通信。</p> <p>【例子】:一场测试结束后, 公布结果: 告知解答出题目的人挑战成功, 否则挑战失败。</p> <p>在这段代码中 A、B、C 之间没有直接发生关系, 而是通过另外的 playerMiddle 对象建立链接, 姑且将之当成是中介者模式了。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">player</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  playerMiddle<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

player<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">win</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  playerMiddle<span class="token punctuation">.</span><span class="token function">win</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

player<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">lose</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  playerMiddle<span class="token punctuation">.</span><span class="token function">lose</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> playerMiddle <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 将就用下这个 demo, 这个函数当成中介者</span>
  <span class="token keyword">const</span> players <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">const</span> winArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">const</span> loseArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      players<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">win</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      winArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>winArr<span class="token punctuation">.</span>length <span class="token operator">+</span> loseArr<span class="token punctuation">.</span>length <span class="token operator">===</span> players<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">lose</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      loseArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>winArr<span class="token punctuation">.</span>length <span class="token operator">+</span> loseArr<span class="token punctuation">.</span>length <span class="token operator">===</span> players<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">show</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> winner <span class="token keyword">of</span> winArr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>winner <span class="token operator">+</span> <span class="token string">'挑战成功;'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> loser <span class="token keyword">of</span> loseArr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>loser <span class="token operator">+</span> <span class="token string">'挑战失败;'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">player</span><span class="token punctuation">(</span><span class="token string">'A 选手'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">player</span><span class="token punctuation">(</span><span class="token string">'B 选手'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">player</span><span class="token punctuation">(</span><span class="token string">'C 选手'</span><span class="token punctuation">)</span>

a<span class="token punctuation">.</span><span class="token function">win</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
b<span class="token punctuation">.</span><span class="token function">win</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
c<span class="token punctuation">.</span><span class="token function">lose</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// A 选手挑战成功;</span>
<span class="token comment">// B 选手挑战成功;</span>
<span class="token comment">// C 选手挑战失败;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/xugaoyi/vuepress-theme-vdoing/edit/master/docs/02.学习/030.javascript/31.js里的设计模式.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/03/16, 13:03:00</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/92cc2f/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">正则表达式</div></a> <a href="/pages/9f0258/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">色彩选择器</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/92cc2f/" class="prev">正则表达式</a></span> <span class="next"><a href="/pages/9f0258/">色彩选择器</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/54c616/"><div>
            2022-03
            <!----></div></a> <span class="date">03-15</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/57a73d/"><div>
            vue3
            <!----></div></a> <span class="date">03-15</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/7f94a7/"><div>
            面试常考
            <!----></div></a> <span class="date">03-14</span></dt></dl> <dl><dd></dd> <dt><a href="/archives" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:954879212@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/xiaomoumou" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=744548454" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2022
    <span>最后的愿望 | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.0a491131.js" defer></script><script src="/assets/js/3.e939b714.js" defer></script><script src="/assets/js/46.ded4e270.js" defer></script>
  </body>
</html>
